% Not mine, refer to https://github.com/chopingu/hajar/blob/main/doc/preamble.sty 
% (Has been editted)

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{preamble} 

%color
\usepackage[dvipsnames]{xcolor}

% math

\usepackage[T1]{fontenc}
\usepackage[Symbol]{upgreek}
\usepackage{nicefrac, amsmath, amsthm, amssymb}
\usepackage[c]{esvect}
    \RenewDocumentCommand{\Vec}{me{_}}{%
      \IfNoValueTF{#2}{\vv{#1}}{\vv*{#1}{\mspace{-2mu}#2}}%
    }
\usepackage{algorithm}
\usepackage{algpseudocode}
%\usepackage{ebgaramond-maths}
\makeatletter
\newenvironment{breakablealgorithm}
  {% \begin{breakablealgorithm}
    \vskip 0.5cm
   \begin{center}
     \refstepcounter{algorithm}% New algorithm
     \hrule height.8pt depth0pt \kern2pt% \@fs@pre for \@fs@ruled
     \renewcommand{\caption}[2][\relax]{% Make a new \caption
       {\raggedright\textbf{\fname@algorithm~\thealgorithm} ##2\par}%
       \ifx\relax##1\relax % #1 is \relax
         \addcontentsline{loa}{algorithm}{\protect\numberline{\thealgorithm}##2}%
       \else % #1 is not \relax
         \addcontentsline{loa}{algorithm}{\protect\numberline{\thealgorithm}##1}%
       \fi
       \kern2pt\hrule\kern2pt
     }
  }{% \end{breakablealgorithm}
     \kern2pt\hrule\relax% \@fs@post for \@fs@ruled
   \end{center}
  }
\makeatother

% clickable references
\usepackage{hyperref}
\usepackage{bookmark}

% nomenclature
\usepackage{nomencl}
\makenomenclature
\renewcommand\nomname{}

% chapters and sections
\usepackage{titlesec}
\usepackage[rightlabels]{titletoc}
\renewcommand\thesection{{\S}  \arabic{section}}
\titleformat{\section}{\Huge \centering\scshape}{\thesection.}{1ex}{}
\titleformat{\subsection}{\Large \centering\scshape}{\thesubsection}{1ex}{}
\titleformat{\subsubsection}{\small \centering\scshape}{\thesubsubsection}{1ex}{}

% keywords
\providecommand{\keywords}[1] {
    \centerline{
        \small
        \textbf{\scshape{Keywords ---}} #1
    }
}

% date
\date{}

% abstract
\renewcommand\abstractname{\scshape{abstract} \vskip 0.15cm \rule{2cm}{0.2mm}}

% epigraph
\newcommand{\attr}[1]{ \begin{flushright} \scriptsize \rule[0.5mm]{3mm}{0.1mm}\hspace{1.5mm}#1 \end{flushright}}
\newcommand{\epigraph}[1]{\begin{quote} \footnotesize #1 \end{quote} }

% contents 
\renewcommand\contentsname{\Huge \textbf{\scshape{ Contents}} \bigskip}
\makeatletter
\renewcommand\tableofcontents{%
  \null\hfill\textbf{\Large\contentsname}\hfill\null\par
  \@mkboth{\MakeUppercase\contentsname}{\MakeUppercase\contentsname}%
  \@starttoc{toc}%
}

% references
\renewcommand\refname{\normalsize \textbf{\scshape{References}}}

% hyphen
\usepackage{hyphenat}

% captions
\usepackage{caption}
\usepackage{subcaption}
\captionsetup[figure]{font=small}

% draw stuff
\usepackage{graphicx}
\graphicspath{ {./images/} }

% figures
\usepackage{tikz}
\usepackage{pgfplots}
\pgfplotsset{width = 10cm, compat=1.18}
\usepackage{multirow, multicol}
\usepackage{tabu}
%Please add the following packages if necessary:
%\usepackage{booktabs, multirow} % for borders and merged ranges
%\usepackage{soul}% for underlines
%\usepackage[table]{xcolor} % for cell colors
%\usepackage{changepage,threeparttable} % for wide tables
%If the table is too wide, replace \begin{table}[!htp]...\end{table} with
%\begin{adjustwidth}{-2.5 cm}{-2.5 cm}\centering\begin{threeparttable}[!htb]...\end{threeparttable}\end{adjustwidth}


% argmin function
\DeclareMathOperator*{\argmax}{argmax}
\DeclareMathOperator*{\argmin}{argmin}

% Indentation
\usepackage{enumitem}
\usepackage{outlines}
\usepackage{parskip}

%spacing
\usepackage{setspace}
